---
title: "Next.jsとmicroCMSを使いながらSSRについて理解する。"
emoji: "🌊"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

今までSSR, ISR, SSGの違いを聞いても「ほえ〜」で終わっていたので、実践してみることにしました。

## 対象読者
- フワーッと知ってるけどよくわかっていない人。
- デモ / ハンズオン付きの方が理解しやすい人。
- ついでにMicroCMSも気になっている人。

## そもそもSSG?ISR?SSRって何？
レンダリング方法です！めっちゃさらっと紹介しているので、時間がある方はこちらの記事を確認してからお読みいただくと理解が深まると思います。
https://zenn.dev/akino/articles/78479998efef55

### SSG （Stactic Site Generation）
ビルド時に構築した静的なサイトを利用

### ISR (Incremental Static Regeneration)
静的サイトの一部を一部動的に更新する

### SSR (Server Side Rendering)
毎回サーバーにリクエスト

## さっそく実装
1. セットアップ
```
npx create-next-app@latest next-ssr-blog
```

microcmsの方では基本の「ブログテンプレート」を使用しました。

以下のようなディレクトリ構成で行います。
```
app/
├── components/
│   └── ArticleList.tsx   // 共通のデザイン部品（ここを1つにする）
├── libs/
│   └── microcms.ts       // 共通のデータ取得ロジック
├── ssg/
│   └── page.tsx          // SSGデモ用ページ
├── isr/
│   └── page.tsx          // ISRデモ用ページ
└── ssr/
    └── page.tsx          // SSRデモ用ページ
```

お忘れなく
```
npm install microcms-js-sdk
```

```.env
MICROCMS_SERVICE_DOMAIN=next-ssr-<あなたのドメイン名をセット>
MICROCMS_API_KEY=<MicroCMSのAPIキーをセット>
```


## 参考
* https://document.microcms.io/tutorial/next/next-app-router-getting-started
* https://zenn.dev/akino/articles/78479998efef55
* https://qiita.com/whopper1962/items/1d1a7179845b3e1d3084